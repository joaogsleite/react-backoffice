(this["webpackJsonpreact-backoffice"]=this["webpackJsonpreact-backoffice"]||[]).push([[3],{72:function(e,t,n){"use strict";var a=n(16),i=n(1),c=n(0),o=n(25),l=n.n(o),r=n(73),s=n.n(r),u=function(e){var t,n=e.children,c=e.className,o=void 0===c?"":c,r=e.fixed,u=void 0!==r&&r,b=l()((t={},Object(a.a)(t,s.a.title,!0),Object(a.a)(t,o,o),Object(a.a)(t,s.a.fixed,u),t));return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("div",{className:b,children:Object(i.jsx)("h1",{children:n})}),u&&Object(i.jsx)("div",{className:s.a.headerSpace})]})};t.a=Object(c.memo)(u)},73:function(e,t,n){e.exports={title:"style_title__zC03E",fixed:"style_fixed__3Ae6D",headerSpace:"style_headerSpace__12-b0"}},74:function(e,t,n){e.exports={button:"style_button__2NB1i",danger:"style_danger__7zw80",warning:"style_warning__bKP17",info:"style_info__30-nm",success:"style_success__1_oUf"}},75:function(e,t,n){"use strict";var a=n(16),i=n(1),c=n(0),o=n(25),l=n.n(o),r=n(74),s=n.n(r),u=function(e){var t,n=e.name,c=e.fixedWidth,o=void 0===c||c,r=l()((t={fas:!0},Object(a.a)(t,"fa-".concat(n),n),Object(a.a)(t,"fa-fw",o),t));return Object(i.jsx)("i",{className:r})},b=Object(c.memo)(u),f=function(e){e.disabled;var t,n=e.className,c=void 0===n?"":n,o=e.rounded,r=e.text,u=e.icon,f=void 0===u?"":u,d=e.iconPosition,j=void 0===d?"left":d,m=e.color,O=e.position,v=e.onClick,x=e.style,h=l()((t={},Object(a.a)(t,s.a.button,!0),Object(a.a)(t,s.a[m||""],m),Object(a.a)(t,s.a.position,O),Object(a.a)(t,s.a.rounded,o),Object(a.a)(t,c,c),t));return Object(i.jsx)("button",{onClick:v,className:h,style:x,children:r?f?"left"===j?Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(b,{name:f}),Object(i.jsx)("span",{children:r})]}):Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("span",{children:r}),Object(i.jsx)(b,{name:f})]}):Object(i.jsx)("span",{children:r}):Object(i.jsx)(b,{name:f})})};t.a=Object(c.memo)(f)},76:function(e,t,n){e.exports={table:"style_table__5RjaQ",actions:"style_actions__1ZIpo"}},78:function(e,t,n){e.exports={message:"style_message__13NtC"}},79:function(e,t,n){},86:function(e,t,n){"use strict";n.r(t);var a,i=n(1),c=n(0),o=n(4),l=n(72),r=function(e){var t=e.columns,n=e.onColumnClick,a=e.actions,o=void 0!==a&&a,l=Object(c.useCallback)((function(e){if(n){var a=t[e];return function(){return a&&n("string"===typeof a?a:a.name)}}}),[t,n]);return Object(i.jsx)("thead",{children:Object(i.jsxs)("tr",{children:[t.map((function(e,t){return Object(i.jsx)("th",{onClick:l(t),children:"string"===typeof e?e:e.label||e.name},t)})),o&&Object(i.jsx)("th",{})]})})},s=Object(c.memo)(r),u=n(2),b=n(75);!function(e){e.edit="edit",e.delete="delete",e.view="view"}(a||(a={}));var f=function(e){var t=e.data,n=e.type,o=e.onClick,l=Object(c.useCallback)((function(){o&&o(t)}),[o,t]);return Object(i.jsx)(b.a,Object(u.a)(Object(u.a)({},function(e){switch(e){case a.edit:return{icon:"edit"};case a.delete:return{icon:"times",color:"danger"};case a.view:default:return{icon:"eye"}}}(n)),{},{onClick:l}))},d=Object(c.memo)(f),j=n(76),m=n.n(j),O=function(e){var t=e.fields,n=e.data,a=e.actions;return Object(i.jsxs)("tr",{children:[t.map((function(e,t){return Object(i.jsx)("td",{children:n[e]},t)})),a&&Object(i.jsx)("td",{className:m.a.actions,children:Object.keys(a).map((function(e,t){return Object(i.jsx)(d,{data:n,type:e,onClick:a[e]},t)}))})]})},v=Object(c.memo)(O),x=n(78),h=n.n(x),g=function(e){var t=e.success,n=e.error,a=e.loading,c=e.text,o=e.icon;return Object(i.jsxs)("div",{className:h.a.message,children:[a&&Object(i.jsx)("i",{className:"fa fa-3x fa-spinner fa-pulse"}),n&&Object(i.jsx)("i",{className:"fas fa-3x fa-exclamation-circle"}),t&&Object(i.jsx)("i",{className:"fas fa-3x fa-check"}),o&&Object(i.jsx)("i",{className:"fas fa-3x fa-"+o}),c&&Object(i.jsx)("div",{style:{marginTop:25},children:c})]})},y=Object(c.memo)(g),p=function(e){var t=e.columns,n=void 0===t?[]:t,a=e.tableData,c=e.loadingTableData,o={edit:function(){},delete:function(){}},l=n.map((function(e){return"string"===typeof e?e:e.name}));return Object(i.jsxs)("table",{className:m.a.table,children:[Object(i.jsx)(s,{actions:!0,columns:n}),Object(i.jsx)("tbody",{children:c&&Object(i.jsx)("tr",{children:Object(i.jsx)("td",{colSpan:n.length,children:Object(i.jsx)(y,{loading:!0})})})||!c&&a.map((function(e,t){return Object(i.jsx)(v,{actions:o,fields:l,data:e},t)}))})]})},_=Object(c.memo)(p),k=n(79),D=n.n(k),C=n(9),N=n(14),T=n(3),w=n(37),E={name:"",columns:[],layout:{label:""}},P={name:"",searchable:!1,visible:{list:!1,detail:!1,relation:!1},model:{type:"",allowNull:!0},layout:{}},S=function(){function e(t){Object(C.a)(this,e),this.config=void 0,this.fields=void 0,this.config=t||E,this.fields=this.config.columns||[]}return Object(N.a)(e,[{key:"name",value:function(){return this.config.name}},{key:"title",value:function(){return this.config.layout.label||this.config.name}},{key:"columns",value:function(){return this.fields.map((function(e){var t;return{name:e.name,label:(null===(t=e.layout)||void 0===t?void 0:t.label)||e.name}}))}},{key:"pkColumn",value:function(){return this.fields.find((function(e){return e.model&&e.model.isPk}))||P}},{key:"titleColumn",value:function(){return this.fields.find((function(e){return e.layout&&e.layout.isTitle}))||P}},{key:"itemPK",value:function(e){var t=this.pkColumn();return Number(e[t.name])}},{key:"itemTitle",value:function(e){var t=this.titleColumn();return t&&t.name?e[t.name]:this.itemPK(e)}}]),e}();function F(e){var t=Object(T.c)((function(t){return t.tables.find((function(t){return t.name===e}))})),n=!t||t.loading;return Object(c.useEffect)((function(){(null===t||void 0===t?void 0:t.columns)||n||w.a.config(e)}),[t,n,e]),{table:new S(t),loadingTableConfig:n}}var K="";var z="";function J(e,t){var n=Object(T.c)((function(n){return{entryData:z!==e?void 0:n.entry?Object.keys(t).filter((function(e){return console.log(n.entry[e]),n.entry[e]===t[e]})):void 0,errorEntry:n.errorEntry,loadingEntry:n.loadingEntry}})),a=n.entryData,i=n.loadingEntry,o=n.errorEntry,l=F(e).table;return Object(c.useEffect)((function(){a||i||!l.columns().length||!function(e){return 0===Object.keys(e).filter((function(t){return void 0===e[t]})).length}(t)||o||(z=e,w.a.getEntry(l.config,t))}),[e,a,o,i,t,l]),a}var A=function(){var e,t=Object(o.g)().tableName,n=void 0===t?"":t,a=F(n),r=a.table,s=a.loadingTableConfig,u=function(e){var t=Object(T.c)((function(t){return{tableData:t.tableData,errorTableData:t.errorTableData,loadingTableData:t.loadingTableData,tableConfig:t.tables.find((function(t){return t.name===e}))}})),n=t.tableData,a=t.errorTableData,i=t.loadingTableData,o=t.tableConfig;return Object(c.useEffect)((function(){n&&e===K||i||!(null===o||void 0===o?void 0:o.columns)||(K=e,w.a.getTableData(o,{skip:0,take:10}))}),[n,i,e,o]),{tableData:n||[],loadingTableData:i,errorTableData:a}}(n),b=u.tableData,f=u.loadingTableData,d=u.errorTableData;return console.log(J(n,{id:null===(e=b[0])||void 0===e?void 0:e.id})),Object(i.jsxs)("div",{className:D.a.tableContainer,children:[Object(i.jsx)(l.a,{fixed:!0,children:r.title()}),!d&&(s?Object(i.jsx)(y,{loading:!0}):r&&b&&Object(i.jsx)(_,{tableData:b,loadingTableData:f,columns:r.columns()})),d&&Object(i.jsx)(y,{error:!!d,text:d})]})};t.default=Object(c.memo)(A)}}]);
//# sourceMappingURL=3.594626c1.chunk.js.map